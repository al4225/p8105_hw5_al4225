p8105_hw5_al4225
================
Anjing
2022-11-16

## Problem 2

### Raw data

**Describe the raw data.**  
In this raw dataset, it contains information about homicides in 50 large
U.S. cities. There are 52179 observations and 12 variables. Some key
variables such like victim_last, victim_first, victim_race, victim_age,
victim_sex discribe victims’ basic information about their name, race,
age and sex. Some key variables such like reported_date, city, state,
lat, lon describe the basic information about the date and location of
homicides in U.S.. The variable disposition reflects the disposition of
the murders.

``` r
homicide_data = read_csv("./data/homicide-data.csv",
                col_names = TRUE) %>%
  janitor::clean_names() 
```

    ## Rows: 52179 Columns: 12
    ## ── Column specification ────────────────────────────────────────────────────────
    ## Delimiter: ","
    ## chr (9): uid, victim_last, victim_first, victim_race, victim_age, victim_sex...
    ## dbl (3): reported_date, lat, lon
    ## 
    ## ℹ Use `spec()` to retrieve the full column specification for this data.
    ## ℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.

``` r
homicide_data
```

    ## # A tibble: 52,179 × 12
    ##    uid   repor…¹ victi…² victi…³ victi…⁴ victi…⁵ victi…⁶ city  state   lat   lon
    ##    <chr>   <dbl> <chr>   <chr>   <chr>   <chr>   <chr>   <chr> <chr> <dbl> <dbl>
    ##  1 Alb-…  2.01e7 GARCIA  JUAN    Hispan… 78      Male    Albu… NM     35.1 -107.
    ##  2 Alb-…  2.01e7 MONTOYA CAMERON Hispan… 17      Male    Albu… NM     35.1 -107.
    ##  3 Alb-…  2.01e7 SATTER… VIVIANA White   15      Female  Albu… NM     35.1 -107.
    ##  4 Alb-…  2.01e7 MENDIO… CARLOS  Hispan… 32      Male    Albu… NM     35.1 -107.
    ##  5 Alb-…  2.01e7 MULA    VIVIAN  White   72      Female  Albu… NM     35.1 -107.
    ##  6 Alb-…  2.01e7 BOOK    GERALD… White   91      Female  Albu… NM     35.2 -107.
    ##  7 Alb-…  2.01e7 MALDON… DAVID   Hispan… 52      Male    Albu… NM     35.1 -107.
    ##  8 Alb-…  2.01e7 MALDON… CONNIE  Hispan… 52      Female  Albu… NM     35.1 -107.
    ##  9 Alb-…  2.01e7 MARTIN… GUSTAVO White   56      Male    Albu… NM     35.1 -107.
    ## 10 Alb-…  2.01e7 HERRERA ISRAEL  Hispan… 43      Male    Albu… NM     35.1 -107.
    ## # … with 52,169 more rows, 1 more variable: disposition <chr>, and abbreviated
    ## #   variable names ¹​reported_date, ²​victim_last, ³​victim_first, ⁴​victim_race,
    ## #   ⁵​victim_age, ⁶​victim_sex

### Homicides

Create a city_state variable (e.g. “Baltimore, MD”) and then summarize
within cities to obtain the total number of homicides and the number of
unsolved homicides (those for which the disposition is “Closed without
arrest” or “Open/No arrest”).

**Discriptions**:  
First, I created a city_state variable to show the summarized
information of location like “Baltimore, MD”. Then I noticed that one
homocide‘s city_state is wrong which is “Tulsa, AL” so I delete this row
because we don’t know whether the city name or the state name is wrong.
Then I summarized the total number of homicides and the number of
unsolved homicides by cities.  
The total number of homicides of all cities is 52178. The total number
of unsolved homicides in all cities is 26505. In each city, the total
and unsolved number of homicides in each city are shown below. We can
see that Chicago, IL has the largest total(5535) and unsolved(4073)
number of homicides so the city is relatively dangeous. Tampa, FL has
the minimum total(208) and unsolved(95) number of homicides so the city
is relatively safe.

``` r
homicide = 
  homicide_data %>%
  mutate(
    city_state = str_c(city, ", ", state)) %>%
  mutate(disposition_situation = ifelse(disposition %in% c("Closed without arrest", "Open/No arrest"), "unsolved", "solved")) %>%
  filter(city_state != "Tulsa, AL")

nrow(homicide)
```

    ## [1] 52178

``` r
total_homicide = 
homicide %>%
  filter(disposition_situation == "unsolved") %>%
  nrow()
total_homicide
```

    ## [1] 26505

``` r
total_homicides =
  homicide %>%
  group_by(city_state) %>%  
  summarize(
    n_obs = n()) %>%
  arrange(desc(n_obs))
total_homicides
```

    ## # A tibble: 50 × 2
    ##    city_state       n_obs
    ##    <chr>            <int>
    ##  1 Chicago, IL       5535
    ##  2 Philadelphia, PA  3037
    ##  3 Houston, TX       2942
    ##  4 Baltimore, MD     2827
    ##  5 Detroit, MI       2519
    ##  6 Los Angeles, CA   2257
    ##  7 St. Louis, MO     1677
    ##  8 Dallas, TX        1567
    ##  9 Memphis, TN       1514
    ## 10 New Orleans, LA   1434
    ## # … with 40 more rows

``` r
unsoved_homicides = 
  homicide %>%
  filter(disposition_situation == "unsolved") %>%
  group_by(city_state) %>%  
  summarize(
    n_obs = n()) %>%
  arrange(desc(n_obs))
unsoved_homicides
```

    ## # A tibble: 50 × 2
    ##    city_state       n_obs
    ##    <chr>            <int>
    ##  1 Chicago, IL       4073
    ##  2 Baltimore, MD     1825
    ##  3 Houston, TX       1493
    ##  4 Detroit, MI       1482
    ##  5 Philadelphia, PA  1360
    ##  6 Los Angeles, CA   1106
    ##  7 New Orleans, LA    930
    ##  8 St. Louis, MO      905
    ##  9 Dallas, TX         754
    ## 10 Jacksonville, FL   597
    ## # … with 40 more rows
